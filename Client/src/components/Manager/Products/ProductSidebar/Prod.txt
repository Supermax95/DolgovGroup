 ///////////////////////////////////////////////////////////////////////////////////////////////////

  //! я уже хуй знает, что это, but work
  const [isMenuOpen, setMenuOpen] = useState<boolean>(false); //* меню для редактирования категории
  const [isMenuOpenSub, setMenuOpenSub] = useState<boolean>(false); //* меню для редактирования подкатегории

  //* рендерит  выпадающий список для категорий
  const [selectedCategoryData, setSelectedCategoryData] =
    useState<ICategory | null>(null);

  const [selectedSubcategoryData, setSelectedSubcategoryData] = useState<{
    id: number | null;
    subcategory: ISubcategory | null;
  }>({ id: null, subcategory: null });

  const [subcategoryStates, setSubcategoryStates] = useState<{
    [key: number]: boolean;
  }>({});

  const menuRef = useRef<HTMLDivElement | null>(null);


  //* дополнительное меню для каждой ПОДКАТЕГОРИИ
  //!  удаётся закрыть по шестерёнке при повторном нажатии, но не по любой области

  const toggleMenuSub = (id: number): void => {
    const subcategory = allSubcategories.find((sub) => sub.id === id);
    if (subcategory) {
      setSelectedSubcategoryData((prev) => ({
        id: prev.id === id ? null : id,
        subcategory: prev.id === id ? null : subcategory,
      }));

      if (isMenuOpen) {
        setMenuOpen(false); // Закрываем всплывающее окно главной категории
        setSelectedCategoryData(null); // Сбрасываем выбранную главную категорию
      }

      setMenuOpenSub((prev) => !prev);
    }
  };

  useEffect(() => {
    // Устанавливаем значение только если состояние действительно изменилось
    if (
      selectedSubcategoryData.id !== null ||
      selectedSubcategoryData.subcategory !== null
    ) {
      setMenuOpenSub(true);
    }
  }, [selectedSubcategoryData]);




  ///////////////////
  const { id: selectedSubcategoryId, subcategory: selectedSubcategory } =
    selectedSubcategoryData;
  ////////////////////

  //////////////////////////////////////////////////////////////////////////////////////////////




  //////// здесь только подкатегория 

    // //* дополнительное меню для каждой ПОДКАТЕГОРИИ
  // //!  удаётся закрыть по шестерёнке при повторном нажатии, но не по любой области
  // const toggleMenuSub = (id: number): void => {
  //   const subcategory = allSubcategories.find((sub) => sub.id === id);
  //   if (subcategory) {
  //     setSelectedSubcategoryData((prev) => ({
  //       id: prev.id === id ? null : id,
  //       subcategory: prev.id === id ? null : subcategory,
  //     }));

  //     if (isMenuOpen) {
  //       setMenuOpen(false); // Закрываем всплывающее окно главной категории
  //       setSelectedCategoryData(null); // Сбрасываем выбранную главную категорию
  //     }

  //     setMenuOpenSub((prev) => !prev);
  //   }
  // };

  // useEffect(() => {
  //   // Устанавливаем значение только если состояние действительно изменилось
  //   if (
  //     selectedSubcategoryData.id !== null ||
  //     selectedSubcategoryData.subcategory !== null
  //   ) {
  //     setMenuOpenSub(true);
  //   }
  // }, [selectedSubcategoryData]);

    // const menuClassSub = isMenuOpenSub ? 'block' : 'hidden';

  // const { id: selectedSubcategoryId, subcategory: selectedSubcategory } =
  // selectedSubcategoryData;



  const handleClickOutside = (e: MouseEvent): void => {
    if (
      menuRef.current &&
      !menuRef.current.contains(e.target as Node) &&
      selectedCategoryData !== null
    ) {
      // setMenuOpen(false);
      // setSelectedCategoryData(null);
      // setEditingCategory(null);
      setMenuOpen(false);
      setSelectedCategoryData(null);
      setSelectedSubcategoryData([]);
      setEditingCategory(null);
      setEditingSubcategory(null);
    }
  };

из продукт модал
        {/* {currentStep === 1 && (
            <div className="w-72 flex items-center justify-between my-6">
              <div className="pr-6">
                <div className="relative">
                  <input
                    id="promoStartDate"
                    type="date"
                    value={editedProduct.promoStartDate}
                    onChange={(e) =>
                      setEditedProduct({
                        ...editedProduct,
                        promoStartDate: e.target.value,
                      })
                    }
                    className="block py-2.5 px-0 w-full text-sm text-slate-500 bg-transparent border-0 border-b-2 border-slate-300 appearance-none focus:outline-none focus:ring-0 focus:border-green-400 peer focus:text-green-500"
                  />
                  <label
                    htmlFor="promoStartDate"
                    className="absolute left-0 -top-3.5 text-slate-400 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-lime-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-lime-3s00 peer-focus:text-sm"
                  >
                    Начало акции
                  </label>
                </div>
              </div>

              <div className="pr-6">
                <div className="relative">
                  <input
                    id="promoEndDate"
                    type="date"
                    value={editedProduct.promoEndDate}
                    onChange={(e) =>
                      setEditedProduct({
                        ...editedProduct,
                        promoEndDate: e.target.value,
                      })
                    }
                    className="block py-2.5 px-0 w-full text-sm text-slate-500 bg-transparent border-0 border-b-2 border-slate-300 appearance-none focus:outline-none focus:ring-0 focus:border-green-400 peer focus:text-green-500"
                  />
                  <label
                    htmlFor="promoEndDate"
                    className="absolute left-0 -top-3.5 text-slate-400 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-lime-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-lime-3s00 peer-focus:text-sm"
                  >
                    Конец акции
                  </label>
                </div>
              </div>
            </div>
          )} */}